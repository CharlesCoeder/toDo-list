(()=>{"use strict";const e=(e,t,n,o)=>({title:e,description:t,addDate:new Date,dueDate:n,priority:o,setTitle:function(e){this.title=e},setDescription:function(e){this.description=e},setDueDate:function(e){this.dueDate=e},setPriority:function(e){this.priority=e}}),t=t=>({name:t,entries:[],addEntry:function(t,n,o,d){const r=e(t,n,o,d);return this.entries.push(r),r},sort:function(e){if(!["addDate","dueDate","priority"].includes(e))throw"Invalid sorting method. Options: addDate, dueDate, priority";this.entries=this.entries.sort(((t,n)=>t[e]>n[e]?1:-1))}});let n=new Map,o="Inbox";const d=(()=>{function e(e){n.set(e,t(e)),console.log(n)}return n.set("Inbox",t("Inbox")),e("Chores"),e("Test"),n.get("Inbox").addEntry("soonest, high-priority","abc",new Date(2021,6,12),3),n.get("Inbox").addEntry("latest, middle-priority","def",new Date(2025,6,12),2),n.get("Inbox").addEntry("middle, low-priority","ghi",new Date(2023,6,12),1),{addProject:e,currentProject:o}})(),r=(()=>{const e=document.querySelector(".entries"),t=function(t){const n=document.createElement("div");n.classList.add("entry");const o=document.createElement("div"),d=document.createElement("div"),r=document.createElement("div");o.classList.add("title"),d.classList.add("dueDate"),r.classList.add("description");const c=document.createElement("button");c.classList.add("checkbox"),c.setAttribute("type","button"),o.textContent=t.title,d.textContent=t.dueDate,r.textContent=t.description,n.appendChild(o),n.appendChild(r),n.appendChild(d),n.appendChild(c);const i=document.createElement("hr");n.appendChild(i),e.appendChild(n)},o=document.querySelector(".entry-form");document.querySelector(".add").addEventListener("click",(()=>{o.setAttribute("style","display:block"),document.addEventListener("mouseup",i),document.addEventListener("keydown",i)}));const d=document.getElementById("titleInput"),r=document.getElementById("descriptionInput");function c(){d.value="",r.value="",document.getElementById("none").checked=!0,o.setAttribute("style","display: none")}function i(e){"mouseup"===e.type?o.contains(e.target)||(document.removeEventListener("mouseup",i),document.removeEventListener("keydown",i),c()):"keydown"===e.type&&0==s&&"Escape"===e.key&&(document.removeEventListener("mouseup",i),document.removeEventListener("keydown",i),c())}let s=!1;const u=document.querySelector(".priorityBtn"),a=document.querySelector(".priorityRadios");function m(e){"mouseup"===e.type?a.contains(e.target)||(a.setAttribute("style","display:none"),document.removeEventListener("mouseup",m),document.removeEventListener("keydown",m),s=!1):"keydown"===e.type&&"Escape"===e.key&&(a.setAttribute("style","display: none"),document.removeEventListener("mouseup",m),document.removeEventListener("keydown",m),s=!1)}u.addEventListener("click",(()=>{s=!0,a.setAttribute("style","display: block"),document.addEventListener("mouseup",m),document.addEventListener("keydown",m)}));const l=document.getElementById("projectDropdown");function p(){const e=document.createElement("div");function t(t,n){const o=document.createElement("div"),d=document.createElement("input");d.setAttribute("type","radio"),d.setAttribute("id",t),d.setAttribute("name","projects"),1==n&&(d.checked=!0);const r=document.createElement("label");r.setAttribute("for",t),r.textContent=t,o.appendChild(d),o.appendChild(r),e.appendChild(o)}e.classList.add("projectRadios");for(const e of n.values())"Inbox"==e.name?t(e.name,!0):t(e.name,!1);return l.appendChild(e),e}const y=document.querySelector(".projectBtn");let v=p();function E(e){"mouseup"===e.type?v.contains(e.target)||(v.setAttribute("style","display:none"),document.removeEventListener("mouseup",E),document.removeEventListener("keydown",E),s=!1):"keydown"===e.type&&"Escape"===e.key&&(v.setAttribute("style","display: none"),document.removeEventListener("mouseup",E),document.removeEventListener("keydown",E),s=!1)}y.addEventListener("click",(()=>{v=p(),v.setAttribute("style","display: block"),s=!0,document.addEventListener("mouseup",E),document.addEventListener("keydown",E)})),document.querySelector(".cancelBtn").addEventListener("click",(()=>{c()})),document.querySelector(".projectCancelBtn").addEventListener("click",(()=>{k()}));const b=document.querySelector(".project-form");document.querySelector(".project-add").addEventListener("click",(()=>{b.setAttribute("style","display:block"),document.addEventListener("mouseup",h),document.addEventListener("keydown",h)}));const L=document.getElementById("nameInput");function k(){L.value="",b.setAttribute("style","display: none")}function h(e){"mouseup"===e.type?b.contains(e.target)||(document.removeEventListener("mouseup",h),document.removeEventListener("keydown",h),k()):"keydown"===e.type&&"Escape"===e.key&&(document.removeEventListener("mouseup",h),document.removeEventListener("keydown",h),k())}return{showEntry:t,buildPage:function(e){for(const n of e.entries)t(n)},clearForm:c,clearProjectForm:k}})();r.buildPage(n.get("Inbox")),document.querySelector(".entry-form").onsubmit=function(){const e=document.getElementById("titleInput").value,t=document.getElementById("descriptionInput").value,d=document.querySelector('input[name="priority"]:checked').value,c=n.get(o).addEntry(e,t,new Date(2022,7,14),d);return r.showEntry(c),r.clearForm(),!1},document.querySelector(".project-form").onsubmit=function(){console.log("ah");const e=document.getElementById("nameInput");return d.addProject(e.value),r.clearProjectForm(),!1}})();