(()=>{"use strict";const e=(e,t,n,o)=>({title:e,description:t,addDate:new Date,dueDate:n,priority:o,setTitle:function(e){this.title=e},setDescription:function(e){this.description=e},setDueDate:function(e){this.dueDate=e},setPriority:function(e){this.priority=e}}),t=t=>({name:t,entries:[],addEntry:function(t,n,o,d){const i=e(t,n,o,d);return this.entries.push(i),i},sort:function(e){if(!["addDate","dueDate","priority"].includes(e))throw"Invalid sorting method. Options: addDate, dueDate, priority";this.entries=this.entries.sort(((t,n)=>t[e]>n[e]?1:-1))}});let n=new Map;n.set("Inbox",t("Inbox")),n.set("Chores",t("Chores")),n.get("Inbox").addEntry("soonest, high-priority","abc",new Date(2021,6,12),3),n.get("Inbox").addEntry("latest, middle-priority","def",new Date(2025,6,12),2),n.get("Inbox").addEntry("middle, low-priority","ghi",new Date(2023,6,12),1);const o=(()=>{const e=document.querySelector(".entries"),t=function(t){const n=document.createElement("div");n.classList.add("entry");const o=document.createElement("div"),d=document.createElement("div"),i=document.createElement("div");o.classList.add("title"),d.classList.add("dueDate"),i.classList.add("description");const r=document.createElement("button");r.classList.add("checkbox"),r.setAttribute("type","button"),o.textContent=t.title,d.textContent=t.dueDate,i.textContent=t.description,n.appendChild(o),n.appendChild(i),n.appendChild(d),n.appendChild(r);const s=document.createElement("hr");n.appendChild(s),e.appendChild(n)},o=document.querySelector(".form");document.querySelector(".add").addEventListener("click",(()=>{o.setAttribute("style","display:block"),document.addEventListener("mouseup",s),document.addEventListener("keydown",s)}));const d=document.getElementById("titleInput"),i=document.getElementById("descriptionInput");function r(){d.value="",i.value="",document.getElementById("none").checked=!0,o.setAttribute("style","display: none")}function s(e){"mouseup"===e.type?o.contains(e.target)||(document.removeEventListener("mouseup",s),document.removeEventListener("keydown",s),r()):"keydown"===e.type&&0==c&&"Escape"===e.key&&(document.removeEventListener("mouseup",s),document.removeEventListener("keydown",s),r())}let c=!1;const u=document.querySelector(".priorityBtn"),a=document.querySelector(".priorityRadios");function m(e){"mouseup"===e.type?a.contains(e.target)||(a.setAttribute("style","display:none"),document.removeEventListener("mouseup",m),document.removeEventListener("keydown",m),c=!1):"keydown"===e.type&&"Escape"===e.key&&(a.setAttribute("style","display: none"),document.removeEventListener("mouseup",m),document.removeEventListener("keydown",m),c=!1)}u.addEventListener("click",(()=>{c=!0,a.setAttribute("style","display: block"),document.addEventListener("mouseup",m),document.addEventListener("keydown",m)}));const l=document.getElementById("projectDropdown"),p=document.querySelector(".projectBtn");!function(){const e=document.createElement("div");function t(t,n){const o=document.createElement("div"),d=document.createElement("input");d.setAttribute("type","radio"),d.setAttribute("id",t),d.setAttribute("name","projects"),1==n&&(d.checked=!0);const i=document.createElement("label");i.setAttribute("for",t),i.textContent=t,o.appendChild(d),o.appendChild(i),e.appendChild(o)}e.classList.add("projectRadios");for(const e of n.values())"Inbox"==e.name?t(e.name,!0):t(e.name,!1);l.appendChild(e)}();const y=document.querySelector(".projectRadios");function E(e){"mouseup"===e.type?y.contains(e.target)||(y.setAttribute("style","display:none"),document.removeEventListener("mouseup",E),document.removeEventListener("keydown",E),c=!1):"keydown"===e.type&&"Escape"===e.key&&(y.setAttribute("style","display: none"),document.removeEventListener("mouseup",E),document.removeEventListener("keydown",E),c=!1)}return p.addEventListener("click",(()=>{y.setAttribute("style","display: block"),c=!0,document.addEventListener("mouseup",E),document.addEventListener("keydown",E)})),document.querySelector(".cancelBtn").addEventListener("click",(()=>{r()})),{showEntry:t,buildPage:function(e){for(const n of e.entries)t(n)},clearForm:r}})();o.buildPage(n.get("Inbox")),document.querySelector(".form").onsubmit=function(){const e=document.getElementById("titleInput").value,t=document.getElementById("descriptionInput").value,d=document.querySelector('input[name="priority"]:checked').value,i=n.get("Inbox").addEntry(e,t,new Date(2022,7,14),d);return o.showEntry(i),o.clearForm(),!1}})();